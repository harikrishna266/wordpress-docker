<div class='min-h-screen min-w-screen flex flex-row'>
  <div class='absolute left-0 right-0 w-full flex flex-row justify-center mt-1'>
    <button type='button'
            (click)="currentAction = 'layer'"
            class='text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:bg-gray-700 me-2 mb-2'>
      <svg fill='none' viewBox='0 0 15 15' height='20' width='20' xmlns='http://www.w3.org/2000/svg'
           class='w-6 h-5 me-2 -ms-1'>
        <path clip-rule='evenodd'
              d='M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z'
              fill='currentColor' fill-rule='evenodd' />
      </svg>
      Layers
    </button>
  </div>

  <div class='grow'>
    <div
      id='konva-container'
      #konvaContainer
      style='width: 2048px; height: 2048px; display: none'
    ></div>
    <canvas
      #threedCanvas
      id='renderer-canvas'
      style='height: 100%; width: 100%; padding: 0px'
    ></canvas>
  </div>
  <div id='popupDiv'
       class='fixed bottom-0 left-0 right-0 p-0  shadow-lg transform transition-transform duration-500 bg-amber-300 '>
    <div class='border-b border-gray-200'>
      <nav class='flex'>
        <button id='tab1'
                [ngClass]="{'border-b-4': selectedLayerName === 'layer_1'}"
                (click)="selectLayer('layer_1')"
                class='tab-button py-4 px-6 font-semibold border-b-0 focus:outline-none'>
          Layer 1
        </button>
        <button id='tab2'
                [ngClass]="{'border-b-4': selectedLayerName === 'layer_2'}"
                (click)="selectLayer('layer_2')"
                class='tab-button text-gray-600 py-4 px-6 font-semibold border-b-0   hover:text-blue-600 focus:outline-none'>
          Layer 2
        </button>
        <button id='tab3'
                [ngClass]="{'border-b-4': selectedLayerName === 'layer_3'}"
                (click)="selectLayer('layer_3')"
                class='tab-button text-gray-600 py-4 px-6 font-semibold border-b-0   hover:text-blue-600 focus:outline-none'>
          Layer 3
        </button>
        <button id='tab4'
                [ngClass]="{'border-b-4': selectedLayerName === 'layer_4'}"
                (click)="selectLayer('layer_4')"
                class='tab-button text-gray-600 py-4 px-6 font-semibold border-b-0   hover:text-blue-600 focus:outline-none'>
          Layer 4
        </button>
      </nav>
      <div class='flex flex-row pt-2 pb-2 gap-1'>
        <div class='w-8 h-8 rounded' *ngFor='let x of goodColors' (click)='setColor(x)' [style.background]='x'></div>
      </div>
    </div>
  </div>
</div>
